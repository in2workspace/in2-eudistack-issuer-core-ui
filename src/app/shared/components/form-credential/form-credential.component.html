<app-navbar></app-navbar>
<div class="credendial-container">
  <div class="mandatee-container">
    <div class="title-credendial">
      <h1>{{ title }}</h1>
    </div>
    <mat-card>
      <h2 class="manda">Mandatee</h2>
      <mat-card-content>
        <form>
          <mat-form-field>
            <mat-label>{{"mandatee.firstnameid" | translate}}</mat-label>
            <input
              matInput
              [(ngModel)]="credential.firstname"
              type="text"
              name="firstname"
              [disabled]="isDisabled"
            />
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>{{"mandatee.lastname" | translate}}</mat-label>
            <input
              matInput
              [(ngModel)]="credential.lastname"
              type="text"
              name="lastname"
              [disabled]="isDisabled"
            />
          </mat-form-field>
          <br />
          <mat-form-field>
            <mat-label>{{"mandatee.email" | translate}}</mat-label>
            <input
              matInput
              [(ngModel)]="credential.emailaddress"
              type="text"
              name="emailaddress"
              [disabled]="isDisabled"
            />
          </mat-form-field>
          <br />
          <div class="mobile">
            <div class="country">
              <mat-form-field>
                <mat-label>{{"mandator.country" | translate}}</mat-label>
                <mat-select
                  [(ngModel)]="selectedCountry"
                  name="country"
                  [disabled]="isDisabled"
                >
                  <mat-option
                    *ngFor="let country of countries"
                    [value]="country.code"
                    >{{ country.name }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
            </div>
            <div class="phone">
              <mat-form-field>
                <mat-label>{{"mandatee.mobilephone" | translate}}</mat-label>
                <input
                  matInput
                  [(ngModel)]="mobilePhone"
                  type="text"
                  name="mobilephone"
                  [disabled]="isDisabled"
                />
              </mat-form-field>
            </div>
          </div>

          <h2>{{"powers.power" | translate}}</h2>
          <br />
          <div class="power">
            <div class="domain">
              <p>{{"powers.domain" | translate}}</p>
              <p>{{"powers.dome" | translate}}</p>
            </div>
            <div class="function">
              <p>{{"powers.function" | translate}}</p>
              <select
                class="select-powers"
                [(ngModel)]="selectedOption"
                [disabled]="isDisabled"
                name="selectedOption"
              >
                <option value="Onboarding">{{"powers.onboarding" | translate}}</option>
                <option value="Product offer">{{"powers.productoffer" | translate}}</option>
              </select>
              <button
                class="add-option-btn"
                [disabled]="isDisabled"
                (click)="addOption()"
              >
              {{"powers.add" | translate}}
              </button>
            </div>
          </div>

          <div *ngIf="viewMode === 'create'">
            <div
              *ngFor="let option of addedOptions; let i = index"
              class="option-container"
            >
              <p>{{ option.name }}</p>
              <mat-slide-toggle
                [(ngModel)]="option.execute"
                name="execute-{{ i }}"
                [disabled]="isDisabled"
                >{{"powers.execute" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.create"
                name="create-{{ i }}"
                [disabled]="isDisabled"
                >{{"powers.create" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.update"
                name="update-{{ i }}"
                [disabled]="isDisabled"
                >{{"powers.update" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.delete"
                name="delete-{{ i }}"
                [disabled]="isDisabled"
                >{{"powers.delete" | translate}}</mat-slide-toggle
              >
            </div>
          </div>

          <div *ngIf="viewMode === 'detail'">
            <div
              *ngFor="let option of powers; let i = index"
              class="option-container"
            >
              <p>{{ option.name }}</p>
              <mat-slide-toggle
                [(ngModel)]="option.execute"
                name="execute-{{ i }}"
                disabled
                >{{"powers.execute" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.create"
                name="create-{{ i }}"
                disabled
                >{{"powers.create" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.update"
                name="update-{{ i }}"
                disabled
                >{{"powers.update" | translate}}</mat-slide-toggle
              >
              <mat-slide-toggle
                [(ngModel)]="option.delete"
                name="delete-{{ i }}"
                disabled
                >{{"powers.delete" | translate}}</mat-slide-toggle
              >
            </div>
          </div>

          <br />
          <button
            mat-raised-button
            color="primary"
            type="submit"
            *ngIf="hideButton"
            [routerLink]="['/credentialManagement']"
          >
          {{"credentialManagement.cancel" | translate}}
          </button>
          <button
            mat-raised-button
            color="primary"
            (click)="submitCredential()"
            *ngIf="hideButton"
            [routerLink]="['/credentialManagement']"
          >
          {{"credentialManagement.create" | translate}}
          </button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="mandator-container">
    <h2 class="manda">Mandator</h2>
    <br />
    <mat-card-content>
      <h6> {{"mandator.organizationid" | translate}}</h6>
      <p>{{ mandator?.organizationId }}</p>
      <h6>{{"mandator.organization" | translate}}</h6>
      <p>{{ mandator?.organization }}</p>
      <h6>{{"mandator.name" | translate}}</h6>
      <p>{{ mandator?.name }}</p>
      <h6>{{"mandator.email" | translate}}</h6>
      <p>{{ mandator?.email }}</p>
      <h6>{{"mandator.serialNumber" | translate}}</h6>
      <p>{{ mandator?.serialNumber }}</p>
      <h6>{{"mandator.country" | translate}}</h6>
      <p>{{ mandator?.country }}</p>
    </mat-card-content>
    <div class="btn-reminder">
      <button
        mat-raised-button
        color="primary"
        *ngIf="showButton"
        (click)="triggerSendReminder()"
      >
      {{"credentialManagement.sendReminder" | translate}}
      </button>
    </div>
    <div class="btn-cancel">
      <button
        mat-raised-button
        color="secondary"
        *ngIf="showButton"
        [routerLink]="['/credentialManagement']"
      >
      {{"credentialManagement.cancel" | translate}}
      </button>
    </div>
  </div>
</div>
